(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{22:function(n,e,r){},25:function(n,e,r){},26:function(n,e,r){"use strict";r.r(e);var o,i=r(0),t=r.n(i),c=r(5),u=r.n(c),d=r(2),a=r(6),s=function(n){var e=[],r=0,o=0,i=0;switch(n){case"beginner":r=64,o=10,i=8;break;case"intermediate":r=256,o=40,i=16}return function(){for(var n=0;n<r;n++){var o=0===n||o===i?1:o+=1,t=0===n?1:n%i===0?t+=1:t;e.push({id:n,revealed:!1,mine:Math.random(),markedAsMine:!1,surroundingMines:"auto",coordinates:{column:o,row:t}})}}(),function(){for(var n=[],r=0;r<o;r++){for(var i=e[0].mine,t=0,c=1;c<e.length;c++)e[c].mine>i&&!0!==e[c].mine&&(t=c,i=e[c].mine);e[t].mine=0,n.push(t)}e.map((function(e){return n.includes(e.id)?e.mine=!0:e.mine=!1}))}(),e.forEach((function(n){var r=0,o=n.coordinates.column,i=n.coordinates.row,t=[function(n){return n.coordinates.column===o-1&&n.coordinates.row===i-1},function(n){return n.coordinates.column===o&&n.coordinates.row===i-1},function(n){return n.coordinates.column===o+1&&n.coordinates.row===i-1},function(n){return n.coordinates.column===o-1&&n.coordinates.row===i},function(n){return n.coordinates.column===o+1&&n.coordinates.row===i},function(n){return n.coordinates.column===o-1&&n.coordinates.row===i+1},function(n){return n.coordinates.column===o&&n.coordinates.row===i+1},function(n){return n.coordinates.column===o+1&&n.coordinates.row===i+1}];t.forEach((function(n){var o=e.findIndex(n);-1!==o&&!0===e[o].mine&&(r+=1)})),n.surroundingMines=r})),console.log(e),e},f=Object(a.b)({name:"minesweeper",initialState:{difficultyLevel:"intermediate",grid:s("beginner"),flaggedFieldsQuantity:0,gameOver:!1},reducers:{setGrid:function(n,e){n.grid=e},checkIfGameOver:function(n,e){var r=e.payload,o=n.grid.findIndex((function(n){return n.id===r}));!0===n.grid[o].mine&&(n.gameOver=!0);var i=0;n.grid.forEach((function(n){!0===n.revealed&&(i+=1)})),i===n.grid.length-5&&console.log("Wygra\u0142e\u015b!!!")},setRevealed:function(n,e){var r=e.payload,o=n.grid.findIndex((function(n){return n.id===r}));n.grid[o].revealed=!0},setMarkedAsMine:function(n,e){var r=e.payload,o=n.grid.findIndex((function(n){return n.id===r}));switch(n.grid[o].markedAsMine){case!1:n.grid[o].markedAsMine=!0,n.flaggedFieldsQuantity=n.flaggedFieldsQuantity+1;break;case!0:n.grid[o].markedAsMine=!1}},revealSurroundingFields:function(n,e){var r=e.payload;[function(n){return n.coordinates.column===r.column-1&&n.coordinates.row===r.row-1},function(n){return n.coordinates.column===r.column&&n.coordinates.row===r.row-1},function(n){return n.coordinates.column===r.column+1&&n.coordinates.row===r.row-1},function(n){return n.coordinates.column===r.column-1&&n.coordinates.row===r.row},function(n){return n.coordinates.column===r.column+1&&n.coordinates.row===r.row},function(n){return n.coordinates.column===r.column-1&&n.coordinates.row===r.row+1},function(n){return n.coordinates.column===r.column&&n.coordinates.row===r.row+1},function(n){return n.coordinates.column===r.column+1&&n.coordinates.row===r.row+1}].forEach((function(e){var r=n.grid.findIndex(e);n.grid[r]&&(n.grid[r].revealed=!0)}))}}}),l=f.actions,m=(l.setGrid,l.checkIfGameOver),g=l.setRevealed,v=l.setMarkedAsMine,w=l.revealSurroundingFields,b=function(n){return n.minesweeper.grid},j=function(n){return n.minesweeper.difficultyLevel},p=function(n){return n.minesweeper.gameOver},h=function(n){return n.minesweeper.flaggedFieldsQuantity},O=f.reducer,x=Object(a.a)({reducer:{minesweeper:O}}),M=(r(22),r(9)),k=r(10).a.div(o||(o=Object(M.a)(["\n\twidth: 500px;\n    height: 500px;\n    display: grid;\n    grid-gap: 2px;\n\tgrid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;\n"]))),y=r(1),F=function(n){var e=n.id,r=n.mine,o=n.coordinates,t=n.revealed,c=n.markedAsMine,u=n.surroundingMines,a=Object(d.b)(),s=function(n){"click"===n.type?(n.preventDefault(),a(m(e)),a(g(e)),0===u&&a(w(o))):"contextmenu"===n.type&&(n.preventDefault(),a(v(e)))};return Object(i.useEffect)((function(){!0===t&&0===u&&a(w(o))}),[t]),Object(y.jsxs)("button",{onClick:s,onContextMenu:s,children:[" ",t&&u," ",c&&"\ud83d\udea9"," ",r&&"\ud83d\udca3"]})},A=function(){var n=Object(d.c)(b);return Object(y.jsx)(k,{children:n.map((function(n){return Object(y.jsx)(F,{id:n.id,mine:n.mine,coordinates:n.coordinates,surroundingMines:n.surroundingMines,revealed:n.revealed,markedAsMine:n.markedAsMine},n.id)}))})},I=function(){var n=Object(d.c)(j),e=Object(d.c)(h),r=0;switch(n){case"beginner":r=10;break;case"intermediate":r=40}var o=r-e;return Object(y.jsxs)("div",{children:["mines left: ",o]})},E=function(){var n=Object(d.c)(p);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(I,{}),!1===n&&Object(y.jsx)(A,{}),!0===n&&"PRZEGRA\u0141E\u015a !!!"]})};r(25);var C=function(){return Object(y.jsx)(E,{})},G=function(n){n&&n instanceof Function&&r.e(3).then(r.bind(null,27)).then((function(e){var r=e.getCLS,o=e.getFID,i=e.getFCP,t=e.getLCP,c=e.getTTFB;r(n),o(n),i(n),t(n),c(n)}))};u.a.render(Object(y.jsx)(t.a.StrictMode,{children:Object(y.jsx)(d.a,{store:x,children:Object(y.jsx)(C,{})})}),document.getElementById("root")),G()}},[[26,1,2]]]);
//# sourceMappingURL=main.8e30a241.chunk.js.map