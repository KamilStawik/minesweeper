(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{23:function(e,n,r){},26:function(e,n,r){},27:function(e,n,r){"use strict";r.r(n);var t,i=r(0),o=r.n(i),c=r(5),a=r.n(c),u=r(2),s=r(6),d=function(e){var n=[],r=0,t=0,i=0;switch(e){case"beginner":r=64,t=10,i=8;break;case"intermediate":r=256,t=40,i=16}return function(){for(var e=0;e<r;e++){var t=0===e||t===i?1:t+=1,o=0===e?1:e%i===0?o+=1:o;n.push({id:e,revealed:!1,mine:Math.random(),markedAsMine:!1,surroundingMines:"auto",coordinates:{column:t,row:o}})}}(),function(){for(var e=[],r=0;r<t;r++){for(var i=n[0].mine,o=0,c=1;c<n.length;c++)n[c].mine>i&&!0!==n[c].mine&&(o=c,i=n[c].mine);n[o].mine=0,e.push(o)}n.map((function(n){return e.includes(n.id)?n.mine=!0:n.mine=!1}))}(),n.forEach((function(e){var r=0,t=e.coordinates.column,i=e.coordinates.row,o=[function(e){return e.coordinates.column===t-1&&e.coordinates.row===i-1},function(e){return e.coordinates.column===t&&e.coordinates.row===i-1},function(e){return e.coordinates.column===t+1&&e.coordinates.row===i-1},function(e){return e.coordinates.column===t-1&&e.coordinates.row===i},function(e){return e.coordinates.column===t+1&&e.coordinates.row===i},function(e){return e.coordinates.column===t-1&&e.coordinates.row===i+1},function(e){return e.coordinates.column===t&&e.coordinates.row===i+1},function(e){return e.coordinates.column===t+1&&e.coordinates.row===i+1}];o.forEach((function(e){var t=n.findIndex(e);-1!==t&&!0===n[t].mine&&(r+=1)})),e.surroundingMines=r})),console.log(n),n},l=Object(s.b)({name:"minesweeper",initialState:{difficultyLevel:"beginner",grid:d("beginner"),flaggedFieldsQuantity:0,gameStatus:"initial"},reducers:{leftClick:function(e,n){var r=n.payload;"initial"===e.gameStatus&&(e.gameStatus="gameIsOn");var t=e.grid.findIndex((function(e){return e.id===r}));e.grid[t].revealed=!0,!0===e.grid[t].mine&&(e.gameStatus="lost");var i=0;switch(e.difficultyLevel){case"beginner":i=10;break;case"intermediate":i=40}var o=0;e.grid.forEach((function(e){!0===e.revealed&&(o+=1)})),o===e.grid.length-i&&(e.gameStatus="won")},newGameButtonClick:function(e){e.gameStatus="initial",e.grid=d(e.difficultyLevel)},setMarkedAsMine:function(e,n){var r=n.payload,t=e.grid.findIndex((function(e){return e.id===r}));switch(e.grid[t].markedAsMine){case!1:e.grid[t].markedAsMine=!0,e.flaggedFieldsQuantity=e.flaggedFieldsQuantity+1;break;case!0:e.grid[t].markedAsMine=!1,e.flaggedFieldsQuantity=e.flaggedFieldsQuantity-1}},revealSurroundingFields:function(e,n){var r=n.payload;[function(e){return e.coordinates.column===r.column-1&&e.coordinates.row===r.row-1},function(e){return e.coordinates.column===r.column&&e.coordinates.row===r.row-1},function(e){return e.coordinates.column===r.column+1&&e.coordinates.row===r.row-1},function(e){return e.coordinates.column===r.column-1&&e.coordinates.row===r.row},function(e){return e.coordinates.column===r.column+1&&e.coordinates.row===r.row},function(e){return e.coordinates.column===r.column-1&&e.coordinates.row===r.row+1},function(e){return e.coordinates.column===r.column&&e.coordinates.row===r.row+1},function(e){return e.coordinates.column===r.column+1&&e.coordinates.row===r.row+1}].forEach((function(n){var r=e.grid.findIndex(n);e.grid[r]&&(e.grid[r].revealed=!0)}))}}}),f=l.actions,m=(f.checkIfGameOver,f.setRevealed,f.newGameButtonClick),g=f.setMarkedAsMine,b=f.revealSurroundingFields,j=f.leftClick,v=function(e){return e.minesweeper.grid},w=function(e){return e.minesweeper.difficultyLevel},O=function(e){return e.minesweeper.gameStatus},p=function(e){return e.minesweeper.flaggedFieldsQuantity},h=l.reducer,x=Object(s.a)({reducer:{minesweeper:h}}),k=(r(23),r(9)),M=r(10).a.div(t||(t=Object(k.a)(["\n\twidth: 500px;\n    height: 500px;\n    display: grid;\n    grid-gap: 2px;\n\tgrid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;\n"]))),y=r(1),F=function(e){var n=e.id,r=e.mine,t=e.coordinates,o=e.revealed,c=e.markedAsMine,a=e.surroundingMines,s=Object(u.b)(),d=function(e){"click"===e.type?(e.preventDefault(),s(j(n)),0===a&&s(b(t))):"contextmenu"===e.type&&(e.preventDefault(),s(g(n)))};return Object(i.useEffect)((function(){!0===o&&0===a&&s(b(t))}),[o]),Object(y.jsxs)("button",{onClick:d,onContextMenu:d,children:[o&&a,o&&r&&"\ud83d\udca3",c&&"\ud83d\udea9"]})},S=function(){var e=Object(u.c)(v);return Object(y.jsx)(M,{children:e.map((function(e){return Object(y.jsx)(F,{id:e.id,mine:e.mine,coordinates:e.coordinates,surroundingMines:e.surroundingMines,revealed:e.revealed,markedAsMine:e.markedAsMine},e.id)}))})},I=r(14),A=function(e){var n=Object(i.useState)(0),r=Object(I.a)(n,2),t=r[0],o=r[1];return console.log(e),Object(i.useEffect)((function(){var n=setInterval((function(){"gameIsOn"===e&&o((function(e){return e+.1}))}),100);return function(){clearInterval(n)}}),[e]),t.toFixed(1)},C=function(){var e=Object(u.c)(O);return Object(y.jsx)(y.Fragment,{children:A(e)})},E=function(){Object(u.c)(O);var e=Object(u.c)(w),n=Object(u.c)(p),r=Object(u.b)(),t=0;switch(e){case"beginner":t=10;break;case"intermediate":t=40}var i=t-n;return Object(y.jsxs)("div",{children:["mines left: ",i,Object(y.jsx)("button",{onClick:function(){return r(m())},children:"Czas start / stop"}),Object(y.jsx)(C,{})]})},L=function(){var e=Object(u.c)(O);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(E,{}),"initial"===e&&Object(y.jsx)(S,{}),"readyToStart"===e&&Object(y.jsx)(S,{}),"gameIsOn"===e&&Object(y.jsx)(S,{}),"lost"===e&&"PRZEGRA\u0141E\u015a !!!","won"===e&&"WYGRA\u0141E\u015a !!!"]})};r(26);var Q=function(){return Object(y.jsx)(L,{})},G=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,28)).then((function(n){var r=n.getCLS,t=n.getFID,i=n.getFCP,o=n.getLCP,c=n.getTTFB;r(e),t(e),i(e),o(e),c(e)}))};a.a.render(Object(y.jsx)(o.a.StrictMode,{children:Object(y.jsx)(u.a,{store:x,children:Object(y.jsx)(Q,{})})}),document.getElementById("root")),G()}},[[27,1,2]]]);
//# sourceMappingURL=main.8e61f54c.chunk.js.map