(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{25:function(n,e,t){"use strict";t.r(e);var r,i,o,c,a,u,d=t(0),s=t.n(d),l=t(7),f=t.n(l),m=t(2),g=t(8),b=[{name:"beginner",minesQuantity:10,fields:64,columns:8,rows:8},{name:"intermediate",minesQuantity:40,fields:256,columns:16,rows:16}],j=function(n){var e=[],t=b.findIndex((function(e){return e.name===n})),r=b[t].fields,i=b[t].minesQuantity,o=b[t].columns;return function(){for(var n=0;n<r;n++){var t=0===n||t===o?1:t+=1,i=0===n?1:n%o===0?i+=1:i;e.push({id:n,revealed:!1,mine:Math.random(),markedAsMine:!1,surroundingMines:"auto",coordinates:{column:t,row:i}})}}(),function(){for(var n=[],t=0;t<i;t++){for(var r=e[0].mine,o=0,c=1;c<e.length;c++)e[c].mine>r&&!0!==e[c].mine&&(o=c,r=e[c].mine);e[o].mine=0,n.push(o)}e.map((function(e){return n.includes(e.id)?e.mine=!0:e.mine=!1}))}(),e.forEach((function(n){var t=0,r=n.coordinates.column,i=n.coordinates.row,o=[function(n){return n.coordinates.column===r-1&&n.coordinates.row===i-1},function(n){return n.coordinates.column===r&&n.coordinates.row===i-1},function(n){return n.coordinates.column===r+1&&n.coordinates.row===i-1},function(n){return n.coordinates.column===r-1&&n.coordinates.row===i},function(n){return n.coordinates.column===r+1&&n.coordinates.row===i},function(n){return n.coordinates.column===r-1&&n.coordinates.row===i+1},function(n){return n.coordinates.column===r&&n.coordinates.row===i+1},function(n){return n.coordinates.column===r+1&&n.coordinates.row===i+1}];o.forEach((function(n){var r=e.findIndex(n);-1!==r&&!0===e[r].mine&&(t+=1)})),n.surroundingMines=t})),console.log(e),e},x=Object(g.b)({name:"minesweeper",initialState:{difficultyLevel:"beginner",grid:j("beginner"),flaggedFieldsQuantity:0,gameStatus:"initial"},reducers:{leftClick:function(n,e){var t=e.payload;"initial"===n.gameStatus&&(n.gameStatus="gameIsOn");var r=n.grid.findIndex((function(n){return n.id===t}));n.grid[r].revealed=!0,!0===n.grid[r].mine&&(n.gameStatus="lost");var i=b.findIndex((function(e){return e.name===n.difficultyLevel})),o=b[i].minesQuantity,c=0;n.grid.forEach((function(n){!0===n.revealed&&(c+=1)})),c===n.grid.length-o&&(n.gameStatus="won")},newGameButtonClick:function(n){n.gameStatus="initial",n.grid=j(n.difficultyLevel),n.flaggedFieldsQuantity=0},setMarkedAsMine:function(n,e){var t=e.payload,r=n.grid.findIndex((function(n){return n.id===t}));switch(n.grid[r].markedAsMine){case!1:n.grid[r].markedAsMine=!0,n.flaggedFieldsQuantity=n.flaggedFieldsQuantity+1;break;case!0:n.grid[r].markedAsMine=!1,n.flaggedFieldsQuantity=n.flaggedFieldsQuantity-1}},revealSurroundingFields:function(n,e){var t=e.payload;[function(n){return n.coordinates.column===t.column-1&&n.coordinates.row===t.row-1},function(n){return n.coordinates.column===t.column&&n.coordinates.row===t.row-1},function(n){return n.coordinates.column===t.column+1&&n.coordinates.row===t.row-1},function(n){return n.coordinates.column===t.column-1&&n.coordinates.row===t.row},function(n){return n.coordinates.column===t.column+1&&n.coordinates.row===t.row},function(n){return n.coordinates.column===t.column-1&&n.coordinates.row===t.row+1},function(n){return n.coordinates.column===t.column&&n.coordinates.row===t.row+1},function(n){return n.coordinates.column===t.column+1&&n.coordinates.row===t.row+1}].forEach((function(e){var t=n.grid.findIndex(e);n.grid[t]&&(n.grid[t].revealed=!0)}))}}}),p=x.actions,w=(p.checkIfGameOver,p.setRevealed,p.newGameButtonClick),v=p.setMarkedAsMine,O=p.revealSurroundingFields,h=p.leftClick,y=function(n){return n.minesweeper.grid},k=function(n){return n.minesweeper.difficultyLevel},M=function(n){return n.minesweeper.gameStatus},S=function(n){return n.minesweeper.flaggedFieldsQuantity},F=x.reducer,I=Object(g.a)({reducer:{minesweeper:F}}),Q=t(3),A=t(4),C=Q.c.div(r||(r=Object(A.a)(["\n    display: grid;\n    grid-gap: 2px;\n\tgrid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;\n"]))),E=Q.c.button(i||(i=Object(A.a)(["\n\twidth: 40px;\n    height: 40px;\n"]))),L=t(1),D=function(n){var e=n.id,t=n.mine,r=n.coordinates,i=n.revealed,o=n.markedAsMine,c=n.surroundingMines,a=Object(m.b)(),u=function(n){"click"===n.type?(n.preventDefault(),a(h(e)),0===c&&a(O(r))):"contextmenu"===n.type&&(n.preventDefault(),a(v(e)))};return Object(d.useEffect)((function(){!0===i&&0===c&&a(O(r))}),[i]),Object(L.jsxs)(E,{onClick:u,onContextMenu:u,children:[i&&(0===c?"":c),i&&t&&"\ud83d\udca3",o&&"\ud83d\udea9"]})},z=function(){var n=Object(m.c)(y);return Object(L.jsx)(C,{children:n.map((function(n){return Object(L.jsx)(D,{id:n.id,mine:n.mine,coordinates:n.coordinates,surroundingMines:n.surroundingMines,revealed:n.revealed,markedAsMine:n.markedAsMine},n.id)}))})},B=Q.c.div(o||(o=Object(A.a)(["\n    width: 100%;\n    color: white;\n    font-size: 24px;\n    padding: 10px;\n    margin-bottom: 12px;\n    border-radius: 10px 10px 0px 0px;\n    background-color: ",";\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n"])),(function(n){return n.theme.colors.mainDark})),G=Q.c.button(c||(c=Object(A.a)(["\n    border: none;\n    background-color: inherit;\n    padding: 0px;\n    font-size: 36px;\n"]))),R=t(14),P=function(n){var e=Object(d.useState)(0),t=Object(R.a)(e,2),r=t[0],i=t[1];return Object(d.useEffect)((function(){var e=setInterval((function(){"initial"===n&&i(0),"gameIsOn"===n&&i((function(n){return n+.1}))}),100);return function(){clearInterval(e)}}),[n]),r.toFixed(1)},T=function(){var n=Object(m.c)(M);return Object(L.jsxs)(L.Fragment,{children:["\u23f2\ufe0f:",P(n)]})},J=function(){var n=Object(m.c)(k),e=Object(m.c)(S),t=Object(m.b)(),r=b.findIndex((function(e){return e.name===n})),i=b[r].minesQuantity-e;return Object(L.jsxs)(B,{children:["\ud83d\udea9: ",i,Object(L.jsx)(G,{onClick:function(){return t(w())},children:"\ud83d\ude00"}),Object(L.jsx)(T,{})]})},U=Q.c.div(a||(a=Object(A.a)(["\n    margin: 100px auto;\n    width: 376px;\n    padding: 20px;\n    border-radius: 10px;\n    background-color: ",";\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"])),(function(n){return n.theme.colors.mainLight})),H=function(){var n=Object(m.c)(M);return Object(L.jsxs)(U,{children:[Object(L.jsx)(J,{}),"initial"===n&&Object(L.jsx)(z,{}),"readyToStart"===n&&Object(L.jsx)(z,{}),"gameIsOn"===n&&Object(L.jsx)(z,{}),"lost"===n&&"PRZEGRA\u0141E\u015a !!!","won"===n&&"WYGRA\u0141E\u015a !!!"]})},N=Object(Q.b)(u||(u=Object(A.a)(["\n\n    html {\n        box-sizing: border-box;\n    }\n    \n    *, ::after, ::before {\n        box-sizing: inherit;\n    }\n\n    body {\n        margin: 0;\n        background-color: ",";\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n        'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n        sans-serif;\n        word-break: break-word;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n"])),(function(n){return n.theme.colors.mainDark})),W={colors:{mainDark:"#1e2832",mainLight:"#c8c8dc"},breakPoints:{mobileMax:"767"}};var Y=function(){return Object(L.jsxs)(Q.a,{theme:W,children:[Object(L.jsx)(H,{}),Object(L.jsx)(N,{})]})},Z=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,26)).then((function(e){var t=e.getCLS,r=e.getFID,i=e.getFCP,o=e.getLCP,c=e.getTTFB;t(n),r(n),i(n),o(n),c(n)}))};f.a.render(Object(L.jsx)(s.a.StrictMode,{children:Object(L.jsx)(m.a,{store:I,children:Object(L.jsx)(Y,{})})}),document.getElementById("root")),Z()}},[[25,1,2]]]);
//# sourceMappingURL=main.0040b72f.chunk.js.map